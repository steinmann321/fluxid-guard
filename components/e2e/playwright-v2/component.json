{
  "name": "playwright-v2",
  "type": "e2e",
  "display_name": "playwright v2 e2e",
  "description": "p26f-inspired anti-flakiness QA",

  "detection": {
    "directories": ["e2e-tests"],
    "files": ["e2e-tests/package.json"],
    "package_indicators": { "file": "e2e-tests/package.json", "contains": "@playwright/test" }
  },

  "dependencies": {
    "system": ["node", "npm"],
    "components": ["shared-v2"]
  },

  "installation": {
    "package_file": "e2e-tests/package.json",
    "config_merges": [
      { "source": "configs/package-additions.json", "target": "e2e-tests/package.json", "method": "merge" }
    ],
    "config_copies": [
      { "source": "configs/eslint.config.js", "target": "e2e-tests/eslint.config.js" },
      { "source": "configs/playwright.config.ts", "target": "e2e-tests/playwright.config.ts", "template_vars": ["backend_port", "frontend_port"] },
      { "source": "configs/tsconfig-additions.json", "target": "e2e-tests/tsconfig.json" }
    ],
    "post_install": [
      "npx playwright install --with-deps chromium"
    ]
  },

  "hooks": [
  ],

  "variables": {}
}
