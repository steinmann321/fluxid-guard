{
  "name": "django-v2",
  "type": "backend",
  "display_name": "django v2 backend",
  "description": "p26f-inspired backend guard with phased checks",

  "detection": {
    "directories": ["backend"],
    "files": ["backend/manage.py"],
    "package_indicators": {
      "file": "backend/requirements.txt",
      "contains": "django"
    }
  },

  "dependencies": {
    "system": ["python3", "pip"],
    "components": ["shared-v2"]
  },

  "installation": {
    "venv_path": "backend/.venv",
    "requirements_file": "configs/requirements-qa.txt",
    "config_merges": [
      {
        "source": "configs/pyproject-additions.toml",
        "target": "backend/pyproject.toml",
        "method": "merge",
        "create_if_missing": true
      }
    ]
  },

  "hooks": [
    "hooks/backend-max-lines.sh",
    "hooks/check-bypass-directives.sh"
  ],

  "variables": {
    "backend_port": {
      "description": "django dev server port",
      "default": 8000,
      "prompt": "backend API port"
    }
  }
}
